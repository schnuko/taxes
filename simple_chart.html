<html>
  <head>
    <script type="text/JavaScript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
      google.load("visualization", "1", {packages:["corechart"]});
      google.setOnLoadCallback(drawChart);
      function drawChart() {

       	var data = new google.visualization.DataTable();
	
				data.addColumn('number', 'Bruttoeinkommen');
				data.addColumn({type: 'string', role: 'annotation'});
				data.addColumn('number', 'Gruene');
				data.addColumn('number', 'Aktuell');	
				data.addRows([
	 		 		[0, null, 0, 0],
       		[8129, null, 0, 0],
	  			[8130, null, 14, 14],
//	  [8130, 0, 14],
//	  [8721, 0, 14],
//        [8712, 14, 14],
        	[13470, null, 23.97, 23.97],
	  			[52882, null, 42, 42],
        	[60000, null, 45, 42],
//	  [x, y, 42, y, 0],
//	  [x	, y, 42, y, y],   
	  			[80000, null, 49, 42],
	  			[250730, null, 49, 42],
	 		 		[250731, null, 49, 45],
					[300000, null, 49, 45]  
				]);

		    var options = {
		    	title: 'Gruene Steuerplaene', 
					vAxis: {title: 'Steuersatz'}, 
					hAxis: {title: 'Bruttoeinkommen'},
					annotations: {style: 'line'},
					animation: {
		      	duration: 1000,
		      	easing: 'in'
		    	}
				};
			

//	data.addRow([x, 'Sie', y, 42]);
//	data.sort([{column: 0}]);

		    var chart = new google.visualization.LineChart(document.getElementById('chart_div'));
		    chart.draw(data, options);

				var button = document.getElementById('button');
				var txt = document.getElementById('txt');

				button.onclick = function() {
					x = parseInt(txt.value);
					var m = (4 / 20000);
					var t = 45 - m * 60000; 
					var y = m * x + t;
		
					data.addRow([x, 'Sie', y, 42]);
					data.sort([{column: 0}]);
					chart.draw(data, options);
				}
			}
			
	

      
    </script>
  </head>
  <body>
    <div id="chart_div" style="width: 900px; height: 500px;"></div>

	<input type="text" id="txt"/>
	<input type="button" id="button" value="submit"/>

</form> 
  </body>
</html>
